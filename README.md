# Поиск соперников для игр в Telegram

Этот бот позволяет найти напарников для игр в мессенджере Telegram.
Попробуйте использовать [бот](https://t.me/chacky_bot) 

## Установка
Скачайте проект с репозитория Github
```bash
git clone https://github.com/RadikAgl/chacky_bot.git
```

Создайте в директории chacky_bot, где находится файл manage.py, файл .env и токен телеграм бота, предварительно созданного через BotFather.

Также укажите следующие переменные:

```.env
BOT_TOKEN=<токен вашего бота>
SECRET_KEY=<секретный ключ Джанго>
DEBUG=True или False
HOST=http://127.0.0.1:8000
```

Секретный ключ можно генерировать, например, здесь: [generator](https://djecrety.ir/)
Debug - True если запускаете проект локально, False - если на внешнем хостинге
HOST - хост, где запускается Джанго проект

Откройте терминал, перейдите в корень проекта. 
Создайте виртуальное окружение и активируйте его, например, следующим образом:
(команды для Linux)
```bash
python -m venv myvenv
source myvenv/bin/activate
```

Далее нужно установить зависимости.
```bash
pip install -r requirements.txt
```

## Запуск приложения
Локально приложение нужно запустить в два этапа:
1. Сначала нужно запустить проект Джанго. Для этого в терминале выполните
```bash
python manage.py runserver
```
2. Сделайте дубликат терминала, активируйте виртуальное окружение, если не активировано, и в ней введите команду для запуска телеграм бота
```bash
python manage.py start_bot
```


## Зависимости

* Python 3.7+
* [telepot](https://github.com/python-telegram-bot/python-telegram-bot) – Python Telegram Bot API
* [requests](https://github.com/psf/requests) - библиотека requests
* [django 3+](https://www.djangoproject.com/) - хранилище поисковых параметров каждого пользователя

Вы можете установить все зависимости, выполнив следующую команду: `pip install -r requirements.txt`


## Команды бота

* `/start` - запуск бота, выполняется автоматически при подключении к боту.
* `/help` - список команд и их описание
* `/mycard` - карточка текущего пользователя
* `/edit` - редактирование карточки (можно изменить информацию о себе и любимую игру)
* `/play` - поиск напарника, выводит карточку случайного игрока по выбранной игре. Можно запросить следующего игрока
